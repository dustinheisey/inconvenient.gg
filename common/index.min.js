!function(){"use strict";const e="theme-preference",t={value:localStorage.getItem(e)?localStorage.getItem(e):window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"};function n(){localStorage.setItem(e,t.value),o()}function o(){document.firstElementChild.setAttribute("data-theme",t.value),document.querySelector("#theme-toggle")?.setAttribute("aria-label",t.value);const e=document.querySelector("#footer-background");"dark"===t.value?(document.querySelector('meta[name="theme-color"]').setAttribute("content","#8f4b38"),document.querySelector(".bg-pattern").setAttribute("class","bg-pattern pattern-cogs theme-action inset-xl"),e.src="/svg/footer-background-2.svg"):(document.querySelector('meta[name="theme-color"]').setAttribute("content","#4f6628"),document.querySelector(".bg-pattern").setAttribute("class","bg-pattern pattern-leaves theme-action inset-xl"),e.src="/svg/footer-background.svg")}function r(){t.value="light"===t.value?"dark":"light",n()}document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector("#navbar"),c=document.getElementById("reading-progress"),a=document.getElementById("budget");document.querySelector("#theme-toggle")&&(o(),window.onload=()=>{o(),document.querySelector("#theme-toggle").addEventListener("click",r)},document.addEventListener("keyup",(e=>{"\\"===e.key&&r()})),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(({matches:e})=>{t.value=e?"dark":"light",n()}))),a&&function(){const e=document.getElementById("budget"),t=document.getElementById("budget-value");e&&e.addEventListener("input",(function(){t.textContent="$"+e.value}))}(),c&&function(){if(window.ResizeObserver){const e=document.getElementById("reading-progress");let t=0,n=!1;function o(){n||(requestAnimationFrame(a),n=!0),t=Date.now()}addEventListener("scroll",o);let r=1e3,c=1e4;function a(){n=!1;const o=Math.min(document.scrollingElement.scrollTop/(c-r)*100,100);e&&(e.style.transform=`translate(-${100-o}vw, 0)`),Date.now()-t<3e3&&(requestAnimationFrame(a),n=!0)}new ResizeObserver((()=>{c=document.scrollingElement.scrollTop+document.querySelector("#comments,footer").getBoundingClientRect().top,r=window.innerHeight,o()})).observe(document.body)}}(),e&&function(){const e=document.querySelector("#navbar"),t=e.offsetTop;window.addEventListener("scroll",(function(){window.scrollY>t?e.classList.add("floating"):e.classList.remove("floating")}))}(),function(){const e=document.querySelector(".container");document.querySelector(".slider-button").addEventListener("click",(t=>{e.style.setProperty("--position",`${t.target.value}%`)})),document.querySelector(".slider").addEventListener("input",(t=>{e.style.setProperty("--position",`${t.target.value}%`)}))}()}))}();
